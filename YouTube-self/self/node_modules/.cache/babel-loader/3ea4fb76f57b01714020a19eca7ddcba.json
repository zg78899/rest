{"ast":null,"code":"var _jsxFileName = \"/Users/pokeoseu/Desktop/React-Self-Study/YouTube-self/self/src/Main.js\";\nimport React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Nav from './component/Nav/Nav';\nimport SearchBar from './component/SearchBar/SearchBar';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport uuid from 'uuid';\nimport { spinner } from './component/images';\nimport VideoList from './component/VideoList/VideoList';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      videos: [],\n      query: '',\n      selectedVideos: null,\n      nextPageToke: null\n    };\n    Object.getOwnPropertyNames(App.prototype).forEach(key => this[key] = this[key].bind(this));\n    this.defaultState = this.state;\n  }\n\n  async getYoutubeData(query) {\n    if (!query) {\n      this.setState(this.defaultState);\n      return;\n    }\n\n    if (this.state.query !== query) {\n      this.setState(this.defaultState);\n    }\n\n    const nextPageToken = this.state.nextPageToken;\n    const params = {\n      key: \"AIzaSyDFjSfrtwzoi9XHarGiQb7RB2x2UEayGIo\",\n      q: query,\n      part: 'snippet',\n      maxResults: 10,\n      pageToken: nextPageToken\n    };\n\n    const _ref = await axios.get(`https://www.googleapis.com/youtube/v3/search`, {\n      params\n    }),\n          data = _ref.data;\n\n    this.setState({\n      videos: [...this.state.videos, ...data.items],\n      query,\n      nextPageToke: data.nextPageToke\n    });\n  }\n\n  async componentDidMount() {\n    this.getYoutubeData('여행');\n  }\n\n  render() {\n    const selectedVideos = this.state.selectedVideos;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      onSearchVideos: this.getYoutubeData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    })), React.createElement(InfiniteScroll // loadMore={() => this.getYoutubeData(this.state.query)}\n    , {\n      hasMore: !!this.state.nextPageToke && !this.state.selectedVideos,\n      loader: React.createElement(\"div\", {\n        key: uuid.v4(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: spinner,\n        alt: spinner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, selectedVideos ? React.createElement(VideoPlayer, {\n      videoId: selectedVideos,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }) : React.createElement(VideoList, Object.assign({}, this.state, {\n      onVideoSelect: selectedVideos => this.setState({\n        selectedVideos\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/pokeoseu/Desktop/React-Self-Study/YouTube-self/self/src/Main.js"],"names":["React","axios","Nav","SearchBar","InfiniteScroll","uuid","spinner","VideoList","App","Component","constructor","props","state","videos","query","selectedVideos","nextPageToke","Object","getOwnPropertyNames","prototype","forEach","key","bind","defaultState","getYoutubeData","setState","nextPageToken","params","q","part","maxResults","pageToken","get","data","items","componentDidMount","render","v4"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Nav from './component/Nav/Nav';\nimport SearchBar from './component/SearchBar/SearchBar';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport uuid from 'uuid';\nimport { spinner } from './component/images';\nimport VideoList from './component/VideoList/VideoList';\n\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      videos: [],\n      query: '',\n      selectedVideos: null,\n      nextPageToke: null\n    }\n    Object.getOwnPropertyNames(App.prototype).forEach(key => this[key] = this[key].bind(this));\n    this.defaultState = this.state;\n\n  }\n  async getYoutubeData(query) {\n    if (!query) {\n      this.setState(this.defaultState);\n      return\n    }\n\n    if (this.state.query !== query) {\n      this.setState(this.defaultState);\n    }\n\n    const { nextPageToken } = this.state;\n\n    const params = {\n      key: \"AIzaSyDFjSfrtwzoi9XHarGiQb7RB2x2UEayGIo\",\n      q: query,\n      part: 'snippet',\n      maxResults:10,\n      pageToken: nextPageToken\n    }\n\n    const { data } = await axios.get(`https://www.googleapis.com/youtube/v3/search`, { params });\n\n    this.setState({\n      videos: [...this.state.videos, ...data.items],\n      query,\n      nextPageToke: data.nextPageToke\n    })\n  }\n  async componentDidMount() {\n    this.getYoutubeData('여행');\n  }\n\n  render() {\n    const { selectedVideos } = this.state;\n    return (\n      <div>\n        <Nav>\n          <SearchBar onSearchVideos={this.getYoutubeData} />\n        </Nav>\n        <InfiniteScroll\n          // loadMore={() => this.getYoutubeData(this.state.query)}\n          hasMore={!!this.state.nextPageToke && !this.state.selectedVideos}\n          loader={\n            <div key={uuid.v4()} >\n              <img src={spinner} alt={spinner} />\n            </div>\n          }\n        >{\n            selectedVideos\n             \n              ? <VideoPlayer videoId={selectedVideos}/>\n              : <VideoList\n                {...this.state} onVideoSelect={selectedVideos=>this.setState({selectedVideos})}\n\n              />\n          }\n        </InfiniteScroll>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}