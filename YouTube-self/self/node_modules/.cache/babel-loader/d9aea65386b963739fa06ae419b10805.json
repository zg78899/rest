{"ast":null,"code":"var _jsxFileName = \"/Users/pokeoseu/Desktop/React-Self-Study/YouTube-self/self/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Nav from './component/Nav/Nav';\nimport SearchBar from './component/SearchBar/SearchBar';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport uuid from 'uuid';\nimport { spinner } from './component/images';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      videos: [],\n      query: '',\n      selectedVideos: null,\n      nextPageToke: null\n    };\n    this.defaultState = this.state;\n    Object.getOwnPropertyNames(App.prototype).forEach(key => this[key] = this[key].bind(this));\n  }\n\n  async getYoutubeData(query) {\n    if (!query) {\n      this.setState(this.defaultState);\n      return;\n    }\n\n    if (this.state.query !== query) {\n      this.setState(this.defaultState);\n    }\n\n    const nextPageToke = this.state.nextPageToke;\n    const params = {\n      ket: '',\n      q: query,\n      part: 'snippet',\n      pageToken: nextPageToke\n    };\n\n    const _ref = await axios.getYoutubeData(`https://www.googleapis.com/youtube/v3/search`, {\n      params\n    }),\n          data = _ref.data;\n\n    this.setState({\n      videos: [...this.state.videos, ...data.item],\n      query,\n      nextPageToke: data.nextPageToke\n    });\n  }\n\n  async componentDidMount() {\n    this.getYoutubeData('여행');\n  }\n\n  render() {\n    const selectedVideos = this.state.selectedVideos;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      onSearchVideos: this.getYoutubeData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(InfiniteScroll, {\n      loadMore: () => this.getYoutubeData(this.state.query),\n      hasMore: !!this.state.nextPageToke && !this.state.selectedVideos,\n      loader: React.createElement(\"div\", {\n        key: uuid.v4(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: spinner,\n        alt: spinner,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, selectedVideos ? React.createElement(VideoPlayer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }) : React.createElement(VideoList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/pokeoseu/Desktop/React-Self-Study/YouTube-self/self/src/App.js"],"names":["React","axios","Nav","SearchBar","InfiniteScroll","uuid","spinner","App","Component","constructor","props","state","videos","query","selectedVideos","nextPageToke","defaultState","Object","getOwnPropertyNames","prototype","forEach","key","bind","getYoutubeData","setState","params","ket","q","part","pageToken","data","item","componentDidMount","render","v4"],"mappings":"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","sourcesContent":["import React  from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Nav from './component/Nav/Nav';\nimport SearchBar from './component/SearchBar/SearchBar';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport uuid from 'uuid';\nimport {spinner} from './component/images';\n\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={\n      videos:[],\n      query:'',\n      selectedVideos:null,\n      nextPageToke:null\n    }\n    this.defaultState=this.state;\n    Object.getOwnPropertyNames(App.prototype).forEach(key=>this[key]=this[key].bind(this));\n\n  }\n  async getYoutubeData(query){\n    if(!query){\n      this.setState(this.defaultState);\n      return \n    }\n\n    if(this.state.query !== query){\n      this.setState(this.defaultState);\n    }\n\n    const {nextPageToke}=this.state;\n\n    const params={\n      ket:'',\n      q:query,\n      part:'snippet',\n      pageToken: nextPageToke\n    }\n    const {data}= await axios.getYoutubeData(`https://www.googleapis.com/youtube/v3/search`,{params});\n    this.setState({\n      videos:[...this.state.videos,...data.item],\n      query,\n      nextPageToke:data.nextPageToke\n    })\n  }\n  async componentDidMount(){\n    this.getYoutubeData('여행');\n  }\n  \n  render(){\n    const {selectedVideos}=this.state;\n    return (\n      <div>\n        <Nav>\n          <SearchBar onSearchVideos={this.getYoutubeData}/>\n        </Nav>\n        <InfiniteScroll\n        loadMore={()=>this.getYoutubeData(this.state.query)}\n        hasMore={!!this.state.nextPageToke && !this.state.selectedVideos}\n        loader={\n          <div key={uuid.v4()} >\n            <img src={spinner} alt={spinner}/>\n          </div>\n        }\n        >{\n          selectedVideos\n          ?<VideoPlayer/>\n          :<VideoList />\n        }\n         \n        </InfiniteScroll>\n      </div>\n    );\n  }\n\n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}